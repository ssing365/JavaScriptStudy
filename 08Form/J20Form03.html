<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>        
        /*
        input태그중 type이 체크박스인 엘리먼트를 선택하되 현재 상태가 disabled인 항목을 선택한다
        그리고 after 선택자를 통해 체크박스를 가릴 수 있는 사각 박스를 만들어 비활성화 상태를 강조한다.
        */
        input[type='checkbox']:disabled::after{
            width: 12px;
            height: 12px;
            border-radius: 3px;
            top: 0px;
            left: -1px;
            position: relative;
            background-color: #d1d3d1;
            content: '';
            display: inline-block;
            visibility: visible;
            border: 2px solid white;
        }
    </style>

    <script>
        //운동 혹은 공부 하나만 선택할 수 있도록 처리
        function choiceOne(flag){
            const f = document.choiceFrm;
            if(flag == 1){
                for(let i = 0; i<f.t1.length; i++){
                    f.t1[i].disabled = true;
                }
                for(let i = 0; i<f.s1.length; i++){
                    f.s1[i].disabled = false;
                }
            }
            else if(flag==2){
                for(let i = 0; i<f.s1.length; i++){
                    f.s1[i].disabled = true;
                }
                for(let i = 0; i<f.t1.length; i++){
                    f.t1[i].disabled = false;
                }
            }
        }

        function spoChoice(){
            const fn = document.choiceFrm;
            let chkNum = 0;
            for(let i=0; i<fn.s1.length; i++){
                if(fn.s1[i].checked==true) chkNum++;
            }
            if(chkNum>=2){
                for(let i=0; i<fn.s1.length; i++){
                    if(fn.s1[i].checked==false){
                        fn.s1[i].disabled=true;
                    } 
                }
            }
            else{
                for(let i=0; i<fn.s1.length; i++){
                    fn.s1[i].disabled = false;
                }
            }
        }

        function subChoice(){
            const fn = document.choiceFrm;
            let chkNum = 0;
            for(let i=0; i<fn.t1.length; i++){
                if(fn.t1[i].checked==true) chkNum++;
            }
            if(chkNum>=3){
                for(let i=0; i<fn.s1.length; i++){
                    if(fn.t1[i].checked==false){
                        fn.t1[i].disabled=true;
                    } 
                }
            }
            else{
                for(let i=0; i<fn.t1.length; i++){
                    fn.t1[i].disabled = false;
                }
            }
        }
    </script>
</head>
<body>
    <h2>radio / checkbox 응용하기</h2>

	<form name="choiceFrm">
		<fieldset>
            <legend>You 운동?? or 공부??</legend>
			<label>
				<input type="radio" name="rad" value="1"
				    onclick="choiceOne(this.value);" /> 운동
            </label>
            <input type="radio" name="rad" value="2" id="rad_2"
                onclick="choiceOne(this.value);" />
			<label for="rad_2">공부</label>
		</fieldset>
		
		<fieldset>
			<legend>좋아하는 운동 2개만 선택하셈</legend>
			<input type="checkbox" name="s1" onclick="spoChoice();" />야구
			<input type="checkbox" name="s1" onclick="spoChoice();" />농구
			<input type="checkbox" name="s1" onclick="spoChoice();" />축구
			<input type="checkbox" name="s1" onclick="spoChoice();" />배구
			<input type="checkbox" name="s1" onclick="spoChoice();" />핸드볼
			<input type="checkbox" name="s1" onclick="spoChoice();" />테니스			
		</fieldset>
		
		<fieldset>
			<legend>좋아하는 과목 3가지만 고르삼</legend>
			<input type="checkbox" name="t1" onclick="subChoice();" />국어
			<input type="checkbox" name="t1" onclick="subChoice();" />영어
			<input type="checkbox" name="t1" onclick="subChoice();" />수학
			<input type="checkbox" name="t1" onclick="subChoice();" />역사
			<input type="checkbox" name="t1" onclick="subChoice();" />물리
			<input type="checkbox" name="t1" onclick="subChoice();" />화학
			<input type="checkbox" name="t1" onclick="subChoice();" />전산
		</fieldset>
	</form>	
</body>
</html>